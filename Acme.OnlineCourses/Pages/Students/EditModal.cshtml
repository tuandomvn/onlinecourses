@page
@using Microsoft.Extensions.Localization
@using Acme.OnlineCourses.Localization
@using Acme.OnlineCourses.Pages.Students
@using Acme.OnlineCourses.Students
@using Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.TagHelpers.Modal
@using Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.TagHelpers.Button
@model EditModalModel
@inject IStringLocalizer<OnlineCoursesResource> L
@{
    Layout = null;
}

<form asp-page="/Students/EditModal">
    <abp-modal>
        <abp-modal-header title="@L["Edit"].Value"></abp-modal-header>
        <abp-modal-body>
            <input asp-for="StudentCourse.StudentId" type="hidden" />
            <input asp-for="StudentCourse.CourseId" type="hidden" />
            <abp-input asp-for="StudentCourse.FullName" readonly="true" />
            <abp-input asp-for="StudentCourse.Email" readonly="true" />
            <abp-select asp-for="StudentCourse.CourseStatus" asp-items="@Model.CourseStatusList" />
            <abp-select asp-for="StudentCourse.TestStatus" asp-items="@Model.TestStatusList" />
            <abp-select asp-for="StudentCourse.PaymentStatus" asp-items="@Model.PaymentStatusList" />
            <abp-input asp-for="StudentCourse.StudentNote" readonly="true" />
            <abp-input asp-for="StudentCourse.AdminNote" />

            <p>@L["Attachments"]</p>
            <div id="AttachmentsList" class="col-12">
                @if (Model.StudentCourse.Attachments != null && Model.StudentCourse.Attachments.Any())
                {
                    <div class="list-group">
                        @foreach (var attachment in Model.StudentCourse.Attachments)
                        {
                            <div class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                                <div>
                                    <a href="@attachment.FilePath" target="_blank">@attachment.FileName</a>
                                </div>
                              
                            </div>
                        }
                    </div>
                }
                else
                {
                    <p class="text-muted">@L["Student:NoAttachments"]</p>
                }
            </div>

        </abp-modal-body>
        <abp-modal-footer buttons="@(AbpModalButtons.Cancel|AbpModalButtons.Save)"></abp-modal-footer>
    </abp-modal>
</form> 