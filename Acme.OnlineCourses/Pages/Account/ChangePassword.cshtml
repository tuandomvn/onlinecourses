@page "/Account/ChangePassword"

@using Microsoft.AspNetCore.Mvc.Localization
@using System.Globalization
@using Volo.Abp.Account.Localization
@model Acme.OnlineCourses.Pages.Account.ChangePasswordModel

@inject IHtmlLocalizer<AccountResource> L
@{
    var currentCulture = CultureInfo.CurrentUICulture.TwoLetterISOLanguageName;
}


<script>
    document.addEventListener('DOMContentLoaded', function() {
        var brandContainers = document.querySelectorAll('.brand-container');
        brandContainers.forEach(function(el) {
            el.style.display = 'none';
        });
    });
</script>

<div class="change-password-container" style="margin-top: 8rem;">
    @if (currentCulture == "vi")
    {
        <h2>Đổi mật khẩu</h2>
    }
    else
    {
        <h2>Change Password</h2>
    }
   
    <div class="alert alert-success" style="margin-bottom:18px;">
        @Model.InstructionMessage
    </div>

    @if (!string.IsNullOrEmpty(Model.SuccessMessage))
    {
        <abp-alert type="success" class="alert-success show">@Model.SuccessMessage</abp-alert>
    }
    @if (!string.IsNullOrEmpty(Model.ErrorMessage))
    {
        <abp-alert type="danger" class="alert-danger show">@Model.ErrorMessage</abp-alert>
    }

    <form method="post">
        @if (currentCulture == "vi")
        {
            <abp-input asp-for="Input.CurrentPassword" type="password" label="Mật khẩu hiện tại" required="true" />
            <abp-input asp-for="Input.NewPassword" type="password" label="Mật khẩu mới" required="true" />
            <abp-input asp-for="Input.ConfirmPassword" type="password" label="Xác nhận mật khẩu" required="true" />
            <abp-button type="submit" button-type="Primary">Đổi mật khẩu</abp-button>
        }
        else
        {
            <abp-input asp-for="Input.CurrentPassword" type="password" label="Current Password" required="true" />
            <abp-input asp-for="Input.NewPassword" type="password" label="New Password" required="true" />
            <abp-input asp-for="Input.ConfirmPassword" type="password" label="Confirm Password" required="true" />
            <abp-button type="submit" button-type="Primary">Change Password</abp-button>
        }
    </form>
</div>


<style>
.change-password-container {
    max-width: 400px;
    margin: 40px auto;
    padding: 32px;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.08);
}
.change-password-container h2 {
    margin-bottom: 24px;
    color: #003366;
}
.form-group {
    margin-bottom: 18px;
    text-align: left;
}
.form-group label {
    display: block;
    margin-bottom: 6px;
    font-weight: 500;
    color: #333;
}
.form-control {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 1rem;
}
.btn-primary {
    background-color: #003366;
    color: #fff;
    border: none;
    padding: 10px 24px;
    border-radius: 6px;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.2s;
    text-align: center;
}
.btn-primary:hover {
    background-color: #00509e;
}
</style>