@page "/Partner"
@model Acme.OnlineCourses.Pages.Partner.PartnerModel
@{
}

@section styles {
    <abp-style src="/Pages/Partner/Partner.cshtml.css" />
    <style>
        .select2-container--default .select2-selection--single {
            height: 38px;
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
        }

            .select2-container--default .select2-selection--single .select2-selection__rendered {
                line-height: 38px;
            }

            .select2-container--default .select2-selection--single .select2-selection__arrow {
                height: 36px;
            }
    </style>
}
@section scripts {
    <abp-script src="/Pages/Partner/Partner.cshtml.js" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#locationFilter').select2({
                placeholder: "Tìm kiếm",
                allowClear: false,
                width: '100%'
            });
            
            // When select2 changes, submit the form
            $('#locationFilter').on('change', function() {
                $('#filterForm').submit();
            });
        });
    </script>
}

<div class="partner-page">
    <div class="container py-5">
        <div class="row">
            <div class="col-lg-6">
                <div class="section-title">
                    <div class="subtitle">Đối tác của chúng tôi</div>
                    <h1 class="main-heading">Đối tác của chúng tôi</h1>
                </div>

                <div class="description mb-4">
                    <p>Chúng tôi tự hào phân phối chương trình trên toàn quốc, kết nối với các trung tâm đối tác đáng tin cậy để mang đến sự hỗ trợ tốt nhất cho bạn. Với mạng lưới rộng khắp, đội ngũ chuyên nghiệp của chúng tôi luôn sẵn sàng lắng nghe và giúp đỡ bạn trong quá trình học tập.</p>
                    <p>Hãy liên hệ với chúng tôi, chúng tôi cam kết đồng hành cùng bạn trên hành trình học tập và phát triển.</p>
                </div>

                <form method="get" id="filterForm">
                    <div class="partner-filter mb-4">
                        <select class="form-select" id="locationFilter" name="SelectedLocationId" aria-label="Chọn địa điểm" onchange="this.form.submit()">
                            <option value="">Tất cả địa điểm</option>
                            @foreach (var location in Model.Locations)
                            {
                                <option value="@location.Value" selected="@(location.Selected ? "selected" : null)">@location.Text</option>
                            }
                        </select>
                    </div>
                </form>

                <div class="partner-table-container">
                    <table class="table table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>Tên đối tác</th>
                                <th>Địa chỉ</th>
                            </tr>
                        </thead>
                        <tbody>
                        <tbody>
                            @if (Model.Agencies != null && Model.Agencies.Any())
                            {
                                @foreach (var partner in Model.Agencies)
                                {
                                    <tr>
                                        <td>@partner.Name</td>
                                        <td>@partner.Address</td>
                                    </tr>
                                }
                            }
                            else
                            {
                                <tr>
                                    <td colspan="2" class="text-center">Không tìm thấy đối tác nào</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="col-lg-6 d-flex align-items-center justify-content-center">
                <div class="vietnam-map">
                    <img src="~/images/vietnam_map.jpg" alt="Map of Vietnam" class="img-fluid">
                </div>
            </div>
        </div>
    </div>
</div>

@await Html.PartialAsync("_Footer")